{"ast":null,"code":"import _slicedToArray from\"D:/vscode/OOP_Project_MK_website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState,useContext}from\"react\";import FilterBar from\"../components/Filter\";import axios from\"axios\";import AuthContext from\"../context/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function History(){var _useContext=useContext(AuthContext),cookies=_useContext.cookies;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orderList=_useState2[0],setOrderList=_useState2[1];useEffect(function(){axios.get(\"/order/all_order\",{params:{name:cookies.token}}).then(function(res){return setOrderList(res.data);}).catch(function(err){return console.log(err.message);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"font-kanit\",children:[/*#__PURE__*/_jsx(FilterBar,{title:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full justify-center my-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-darkgray rounded-b-xl p-4 w-1/2\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold text-2xl\",children:\"Order List\"}),orderList.map(function(order){var _order$_Order__paymen;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between bg-gray rounded-xl my-4 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold\",children:\"Order ID\"}),/*#__PURE__*/_jsx(\"p\",{children:order._Order__id})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold\",children:\"Total Cost\"}),/*#__PURE__*/_jsxs(\"p\",{children:[order._Order__total_Cost,\" .-\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-bold\",children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{children:(_order$_Order__paymen=order._Order__payment)===null||_order$_Order__paymen===void 0?void 0:_order$_Order__paymen[\"_Payment__date_time\"]})]})]});})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","useContext","FilterBar","axios","AuthContext","History","cookies","orderList","setOrderList","get","params","name","token","then","res","data","catch","err","console","log","message","map","order","_Order__id","_Order__total_Cost","_Order__payment"],"sources":["D:/vscode/OOP_Project_MK_website/client/src/pages/History.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\r\nimport FilterBar from \"../components/Filter\";\r\nimport axios from \"axios\";\r\nimport AuthContext from \"../context/auth\";\r\n\r\nexport default function History() {\r\n  const { cookies } = useContext(AuthContext);\r\n  const [orderList, setOrderList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/order/all_order\", { params: { name: cookies.token } })\r\n      .then((res) => setOrderList(res.data))\r\n      .catch((err) => console.log(err.message));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"font-kanit\">\r\n      <FilterBar title=\"รายการ\" />\r\n      <div className=\"flex w-full justify-center my-9\">\r\n        <div className=\"bg-darkgray rounded-b-xl p-4 w-1/2\">\r\n          <h1 className=\"font-bold text-2xl\">Order List</h1>\r\n          {orderList.map((order) => {\r\n            return (\r\n              <div className=\"flex justify-between bg-gray rounded-xl my-4 p-4\">\r\n                <div>\r\n                  <h1 className=\"font-bold\">Order ID</h1>\r\n                  <p>{order._Order__id}</p>\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"font-bold\">Total Cost</h1>\r\n                  <p>{order._Order__total_Cost} .-</p>\r\n                </div>\r\n                <div>\r\n                  <h1 className=\"font-bold\">Date</h1>\r\n                  <p>{order._Order__payment?.[\"_Payment__date_time\"]}</p>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"6HAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAOC,UAAS,KAAM,sBAAsB,CAC5C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,YAAW,KAAM,iBAAiB,CAAC,wFAE1C,cAAe,SAASC,QAAO,EAAG,CAChC,gBAAoBJ,UAAU,CAACG,WAAW,CAAC,CAAnCE,OAAO,aAAPA,OAAO,CACf,cAAkCN,QAAQ,CAAC,EAAE,CAAC,wCAAvCO,SAAS,eAAEC,YAAY,eAE9BT,SAAS,CAAC,UAAM,CACdI,KAAK,CACFM,GAAG,CAAC,kBAAkB,CAAE,CAAEC,MAAM,CAAE,CAAEC,IAAI,CAAEL,OAAO,CAACM,KAAM,CAAE,CAAC,CAAC,CAC5DC,IAAI,CAAC,SAACC,GAAG,QAAKN,aAAY,CAACM,GAAG,CAACC,IAAI,CAAC,GAAC,CACrCC,KAAK,CAAC,SAACC,GAAG,QAAKC,QAAO,CAACC,GAAG,CAACF,GAAG,CAACG,OAAO,CAAC,GAAC,CAC7C,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,YAAY,wBACzB,KAAC,SAAS,EAAC,KAAK,CAAC,sCAAQ,EAAG,cAC5B,YAAK,SAAS,CAAC,iCAAiC,uBAC9C,aAAK,SAAS,CAAC,oCAAoC,wBACjD,WAAI,SAAS,CAAC,oBAAoB,UAAC,YAAU,EAAK,CACjDb,SAAS,CAACc,GAAG,CAAC,SAACC,KAAK,CAAK,2BACxB,mBACE,aAAK,SAAS,CAAC,kDAAkD,wBAC/D,oCACE,WAAI,SAAS,CAAC,WAAW,UAAC,UAAQ,EAAK,cACvC,mBAAIA,KAAK,CAACC,UAAU,EAAK,GACrB,cACN,oCACE,WAAI,SAAS,CAAC,WAAW,UAAC,YAAU,EAAK,cACzC,qBAAID,KAAK,CAACE,kBAAkB,CAAC,KAAG,GAAI,GAChC,cACN,oCACE,WAAI,SAAS,CAAC,WAAW,UAAC,MAAI,EAAK,cACnC,0CAAIF,KAAK,CAACG,eAAe,gDAArB,sBAAwB,qBAAqB,CAAC,EAAK,GACnD,GACF,CAEV,CAAC,CAAC,GACE,EACF,GACF,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}