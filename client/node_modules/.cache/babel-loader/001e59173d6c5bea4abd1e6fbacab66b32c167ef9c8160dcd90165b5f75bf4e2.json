{"ast":null,"code":"import _slicedToArray from\"D:/vscode/OOP_Project_MK_website/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState,useContext}from\"react\";import AuthContext from\"../context/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Payment(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),cash=_useState2[0],setCash=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),credit=_useState4[0],setCredit=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),firstname=_useState6[0],setFirstname=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lastname=_useState8[0],setLastname=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),cardNumber=_useState10[0],setCardNumber=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),cvv=_useState12[0],setCvv=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),exp=_useState14[0],setExp=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),isLoading=_useState16[0],setIsLoading=_useState16[1];var _useContext=useContext(AuthContext),cookies=_useContext.cookies;var selectCash=function selectCash(){setCash(true);setCredit(false);};var selectCredit=function selectCredit(){setCredit(true);setCash(false);};var handleCash=function handleCash(){setIsLoading(true);axios.post(\"/order/cash\",{username:cookies.token,orderid:props.order._Order__id,totalCost:props.order._Order__total_Cost}).then(function(){setIsLoading(false);window.location.replace(\"/\");}).catch(function(){return setIsLoading(false);});};var handleCredit=function handleCredit(e){e.preventDefault();setIsLoading(true);axios.post(\"/order/credit\",{username:cookies.token,orderid:props.order._Order__id,totalCost:props.order._Order__total_Cost,firstname:firstname,lastname:lastname,cardNumber:cardNumber,cvv:cvv,exp:exp}).then(function(){setIsLoading(false);window.location.replace(\"/\");}).catch(function(){setIsLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed z-10 w-1/2 bg-gray text-black top-1/2 left-1/2 p-5 rounded-xl shadow-xl\",style:{transform:\"translate(-50%,-50%)\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-1/3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"\",children:\"Transaction ID\"}),/*#__PURE__*/_jsx(\"p\",{children:props.order._Order__id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-1/3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Cost\"}),/*#__PURE__*/_jsxs(\"p\",{children:[props.order._Order__total_Cost-50,\" .-\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-1/3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shipping Cost\"}),/*#__PURE__*/_jsx(\"p\",{children:\"50 .-\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border w-1/3 my-3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between w-1/3 font-bold\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Total Cost\"}),/*#__PURE__*/_jsxs(\"p\",{children:[props.order._Order__total_Cost,\" .-\"]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4 font-bold text-2xl\",children:\"Choose Yout Method\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 mt-3 mr-4 font-bold text-black rounded-lg border-2 \".concat(cash&&\"bg-green\"),onClick:function onClick(){return selectCash();},children:\"Cash\"}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 mt-3 mr-4 font-bold text-black rounded-lg border-2 \".concat(credit&&\"bg-green\"),onClick:function onClick(){return selectCredit();},children:\"Credit Card\"})]}),cash&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 mt-3 mr-4 font-bold text-white text-xl rounded-xl bg-green\",onClick:handleCash,disabled:isLoading,children:/*#__PURE__*/_jsx(\"p\",{className:\"drop-shadow-lg\",children:\"SUBMIT PAYMENT\"})})}),credit&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleCredit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"px-5 py-2 rounded-lg border w-[48%] my-3\",type:\"text\",placeholder:\"First Name\",value:firstname,onChange:function onChange(e){return setFirstname(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"px-5 py-2 rounded-lg border w-[48%] my-3\",type:\"text\",placeholder:\"Last Name\",value:lastname,onChange:function onChange(e){return setLastname(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"px-5 py-2 rounded-lg border w-1/2 my-3 mr-3\",type:\"text\",placeholder:\"Card Number\",value:cardNumber,onChange:function onChange(e){return setCardNumber(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"px-5 py-2 rounded-lg border w-1/6 my-3 mr-3\",type:\"text\",placeholder:\"CVV\",value:cvv,onChange:function onChange(e){return setCvv(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{className:\"px-5 py-2 rounded-lg border my-3 mr-3\",type:\"text\",placeholder:\"Expiration date 19-05-2028\",value:exp,onChange:function onChange(e){return setExp(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 mt-3 mr-4 font-bold text-white text-xl rounded-xl bg-green\",type:\"sumbit\",disabled:isLoading,children:/*#__PURE__*/_jsx(\"p\",{className:\"drop-shadow-lg\",children:\"SUBMIT PAYMENT\"})})]})]});}","map":{"version":3,"names":["axios","React","useState","useContext","AuthContext","Payment","props","cash","setCash","credit","setCredit","firstname","setFirstname","lastname","setLastname","cardNumber","setCardNumber","cvv","setCvv","exp","setExp","isLoading","setIsLoading","cookies","selectCash","selectCredit","handleCash","post","username","token","orderid","order","_Order__id","totalCost","_Order__total_Cost","then","window","location","replace","catch","handleCredit","e","preventDefault","transform","target","value"],"sources":["D:/vscode/OOP_Project_MK_website/client/src/components/Payment.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useState, useContext } from \"react\";\r\nimport AuthContext from \"../context/auth\";\r\n\r\nexport default function Payment(props) {\r\n  const [cash, setCash] = useState(false);\r\n  const [credit, setCredit] = useState(false);\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [cardNumber, setCardNumber] = useState(\"\");\r\n  const [cvv, setCvv] = useState(\"\");\r\n  const [exp, setExp] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const { cookies } = useContext(AuthContext);\r\n\r\n  const selectCash = () => {\r\n    setCash(true);\r\n    setCredit(false);\r\n  };\r\n\r\n  const selectCredit = () => {\r\n    setCredit(true);\r\n    setCash(false);\r\n  };\r\n\r\n  const handleCash = () => {\r\n    setIsLoading(true);\r\n    axios\r\n      .post(\"/order/cash\", {\r\n        username: cookies.token,\r\n        orderid: props.order._Order__id,\r\n        totalCost: props.order._Order__total_Cost,\r\n      })\r\n      .then(() => {\r\n        setIsLoading(false);\r\n        window.location.replace(\"/\");\r\n      })\r\n      .catch(() => setIsLoading(false));\r\n  };\r\n\r\n  const handleCredit = (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    axios\r\n      .post(\"/order/credit\", {\r\n        username: cookies.token,\r\n        orderid: props.order._Order__id,\r\n        totalCost: props.order._Order__total_Cost,\r\n        firstname: firstname,\r\n        lastname: lastname,\r\n        cardNumber: cardNumber,\r\n        cvv: cvv,\r\n        exp: exp,\r\n      })\r\n      .then(() => {\r\n        setIsLoading(false);\r\n        window.location.replace(\"/\");\r\n      })\r\n      .catch(() => {\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed z-10 w-1/2 bg-gray text-black top-1/2 left-1/2 p-5 rounded-xl shadow-xl\"\r\n      style={{ transform: \"translate(-50%,-50%)\" }}\r\n    >\r\n      <div className=\"flex justify-between w-1/3\">\r\n        <h1 className=\"\">Transaction ID</h1>\r\n        <p>{props.order._Order__id}</p>\r\n      </div>\r\n      <div className=\"flex justify-between w-1/3\">\r\n        <h1>Cost</h1>\r\n        <p>{props.order._Order__total_Cost - 50} .-</p>\r\n      </div>\r\n      <div className=\"flex justify-between w-1/3\">\r\n        <h1>Shipping Cost</h1>\r\n        <p>50 .-</p>\r\n      </div>\r\n      <div className=\"border w-1/3 my-3\"></div>\r\n      <div className=\"flex justify-between w-1/3 font-bold\">\r\n        <h1>Total Cost</h1>\r\n        <p>{props.order._Order__total_Cost} .-</p>\r\n      </div>\r\n      <h1 className=\"mt-4 font-bold text-2xl\">Choose Yout Method</h1>\r\n      <div className=\"flex\">\r\n        <button\r\n          className={`px-4 py-2 mt-3 mr-4 font-bold text-black rounded-lg border-2 ${\r\n            cash && \"bg-green\"\r\n          }`}\r\n          onClick={() => selectCash()}\r\n        >\r\n          Cash\r\n        </button>\r\n        <button\r\n          className={`px-4 py-2 mt-3 mr-4 font-bold text-black rounded-lg border-2 ${\r\n            credit && \"bg-green\"\r\n          }`}\r\n          onClick={() => selectCredit()}\r\n        >\r\n          Credit Card\r\n        </button>\r\n      </div>\r\n      {cash && (\r\n        <div className=\"w-full\">\r\n          <button\r\n            className=\"w-full px-4 py-2 mt-3 mr-4 font-bold text-white text-xl rounded-xl bg-green\"\r\n            onClick={handleCash}\r\n            disabled={isLoading}\r\n          >\r\n            <p className=\"drop-shadow-lg\">SUBMIT PAYMENT</p>\r\n          </button>\r\n        </div>\r\n      )}\r\n      {credit && (\r\n        <form onSubmit={(e) => handleCredit(e)}>\r\n          <div className=\"flex justify-between\">\r\n            <input\r\n              className=\"px-5 py-2 rounded-lg border w-[48%] my-3\"\r\n              type=\"text\"\r\n              placeholder=\"First Name\"\r\n              value={firstname}\r\n              onChange={(e) => setFirstname(e.target.value)}\r\n            />\r\n            <input\r\n              className=\"px-5 py-2 rounded-lg border w-[48%] my-3\"\r\n              type=\"text\"\r\n              placeholder=\"Last Name\"\r\n              value={lastname}\r\n              onChange={(e) => setLastname(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className=\"flex\">\r\n            <input\r\n              className=\"px-5 py-2 rounded-lg border w-1/2 my-3 mr-3\"\r\n              type=\"text\"\r\n              placeholder=\"Card Number\"\r\n              value={cardNumber}\r\n              onChange={(e) => setCardNumber(e.target.value)}\r\n            />\r\n            <input\r\n              className=\"px-5 py-2 rounded-lg border w-1/6 my-3 mr-3\"\r\n              type=\"text\"\r\n              placeholder=\"CVV\"\r\n              value={cvv}\r\n              onChange={(e) => setCvv(e.target.value)}\r\n            />\r\n            <input\r\n              className=\"px-5 py-2 rounded-lg border my-3 mr-3\"\r\n              type=\"text\"\r\n              placeholder=\"Expiration date 19-05-2028\"\r\n              value={exp}\r\n              onChange={(e) => setExp(e.target.value)}\r\n            />\r\n          </div>\r\n          <button\r\n            className=\"w-full px-4 py-2 mt-3 mr-4 font-bold text-white text-xl rounded-xl bg-green\"\r\n            type=\"sumbit\"\r\n            disabled={isLoading}\r\n          >\r\n            <p className=\"drop-shadow-lg\">SUBMIT PAYMENT</p>\r\n          </button>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}